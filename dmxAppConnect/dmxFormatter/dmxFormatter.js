/*!
 DMXzone Formatter
 Version: 1.1.1
 (c) 2018 DMXzone.com
 @build 2018-05-20 23:19:25
 */
dmx.Formatters("global",{default:function(t,n){return null==t?n:t},string:function(t){return String(t)},number:function(t){return Number(t)},date:function(t){"number"==typeof t&&(t*=1e3),"string"==typeof t&&"now"==t.toLowerCase()&&(t=null);var n=t?new Date(t):new Date;return"Invalid Date"==n.toString()?null:n.toISOString()}}),dmx.Formatters("array",{hasItems:function(t){return!!t.length},contains:function(t,n){return t.indexOf(n)>-1},join:function(t,n){return t.join(n)},count:function(t){return t.length},top:function(t,n){return t.slice(0,n)},last:function(t,n){return t.slice(-n)},slice:function(t,n,r){return t.slice(n,r)},reverse:function(t){return t.slice(0).reverse()},randomize:function(t){var n,r,e=dmx.randomizer(this.seed*dmx.hashCode(t)),u=t.length;for(t=t.slice(0);0!==u;)r=Math.floor(e()*u--),n=t[u],t[u]=t[r],t[r]=n;return t},filter:function(t,n){return t.filter(function(t){return dmx.parse(n,new dmx.DataScope(t,this))},this)},map:function(t,n){return t.map(function(t){return dmx.parse(n,new dmx.DataScope(t,this))},this)},where:function(t,n,r,e){return e=e||"==",t.filter(function(t){var u=dmx.parse(n,new dmx.DataScope(t,this));switch(e){case"startsWith":return 0===String(u).indexOf(r);case"endsWith":return String(u).substr(-r.length)===r;case"contains":return-1!==String(u).indexOf(r);case"inArray":return-1!==r.indexOf(u);case"fuzzySearch":return function(t,n){var r=t.length,e=n.length;if(e>r)return!1;if(e===r)return t===n;t:for(var u=0,a=0;u<e;u++){for(var i=n.charCodeAt(u);a<r;)if(t.charCodeAt(a++)===i)continue t;return!1}return!0}(String(u),r);case"==":return u==r;case"===":return u===r;case"!=":return u!=r;case"!==":return u!==r;case"<":return u<r;case"<=":return u<=r;case">":return u>r;case">=":return u>=r}return!0})},values:function(t,n){return t.map(function(t){return dmx.parse(n,new dmx.DataScope(t,this))})},groupBy:function(t,n){return t.reduce(function(t,r){var e=dmx.parse(n,new dmx.DataScope(r,this));return t[e]||(t[e]=[]),t[e].push(r),t},{})},unique:function(t,n){return n&&(t=t.map(function(t){return dmx.parse(n,new dmx.DataScope(t,this))})),Object.keys(t.reduce(function(t,n){return t[JSON.stringify(n)]=1,t},{})).map(function(t){return JSON.parse(t)})},sort:function(t,n){return t.slice(0).sort(function(t,r){return n&&(t=dmx.parse(n,new dmx.DataScope(t,this)),r=dmx.parse(n,new dmx.DataScope(r,this))),t<r?-1:t>r?1:0})},min:function(t,n){return t.reduce(function(t,r){return n&&(r=dmx.parse(n,new dmx.DataScope(r,this))),r=Number(r),r<t?r:t},1/0)},max:function(t,n){return t.reduce(function(t,r){return n&&(r=dmx.parse(n,new dmx.DataScope(r,this))),r=Number(r),r>t?r:t},-1/0)},sum:function(t,n){return t.reduce(function(t,r){return n&&(r=dmx.parse(n,new dmx.DataScope(r,this))),r=Number(r),t+r},0)},avg:function(t,n){return t.reduce(function(t,r){return n&&(r=dmx.parse(n,new dmx.DataScope(r,this))),r=Number(r),t+r},0)/t.length},default:function(t){return t}}),dmx.Formatters("number",{inRange:function(t,n,r){return t>=n&&t<=r},abs:function(t){return Math.abs(t)},ceil:function(t){return Math.ceil(t)},floor:function(t){return Math.floor(t)},max:function(t,n){return Math.max(t,n)},min:function(t,n){return Math.min(t,n)},pow:function(t,n){return Math.pow(t,n)},round:function(t,n){var r=Math.pow(10,n||0),e=t*r;return Math.round(e)/r},pad:function(t,n){for(var r=t<0?"-":"",e=String(Math.abs(t));e.length<n;)e="0"+e;return r+e},toFixed:function(t,n){return t.toFixed(n)},formatNumber:function(t,n,r,e){if(isNaN(t))return"Invalid Number";if(!isFinite(t))return(t<0?"-":"")+"infinite";r=r||".",e=e||"";var u=t<0;t=Math.abs(t);var a=(null!=n&&n>=0?t.toFixed(n):t.toString()).split("."),i=a[0],o=a.length>1?r+a[1]:"";if(e)for(var c=/(\d+)(\d{3})/;c.test(i);)i=i.replace(c,"$1"+e+"$2");return(u?"-":"")+i+o},formatCurrency:function(t,n,r,e,u){if(isNaN(t)||!isFinite(t))return"Invalid Amount";n=n||"$",r=r||".",e=e||",",u=null!=u?u:2;var a=t<0,i=Math.abs(t).toFixed(u).split("."),o=i[0],c=i.length>1?r+i[1]:"";if(e)for(var s=/(\d+)(\d{3})/;s.test(o);)o=o.replace(s,"$1"+e+"$2");return(a?"-":"")+n+o+c},formatSize:function(t,n,r){if(isNaN(t)||!isFinite(t))return"Invalid Size";n=n||2;for(var e=r?1024:1e3,u=r?["KiB","MiB","GiB","TiB"]:["KB","MB","GB","TB"],a=3;a>=0;a--){var i=Math.pow(e,a+1);if(t>=i){t/=i;var o=Math.pow(10,n);return(t=Math.round(t*o)/o)+u[a]}}return t+"B"},default:function(t){return t},toString:function(t){return String(t)},toDate:function(t){return new Date(1e3*t).toISOString()}}),function(){function t(t){var n,r,e=0,u=[1,4,5,6,7,10,11];if("now"==t.toLowerCase())return new Date;if(r=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:[T ](\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(t)){for(var a,i=0;a=u[i];++i)r[a]=+r[a]||0;return r[2]=(+r[2]||1)-1,r[3]=+r[3]||1,void 0===r[8]?new Date(r[1],r[2],r[3],r[4],r[5],r[6],r[7]):("Z"!==r[8]&&void 0!==r[9]&&(e=60*r[10]+r[11],"+"===r[9]&&(e=0-e)),new Date(Date.UTC(r[1],r[2],r[3],r[4],r[5]+e,r[6],r[7])))}if(r=/^(\d{2}):(\d{2})(?::(\d{2}))?$/.exec(t)){var n=new Date;return n.setHours(+r[1]||0),n.setMinutes(+r[2]||0),n.setSeconds(+r[3]||0),n}return new Date(t)}function n(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}dmx.Formatters("string",{startsWith:function(t,n){return 0===t.indexOf(n)},endsWith:function(t,n){var r=t.length-n.length,e=t.lastIndexOf(n);return-1!==e&&e===r},contains:function(t,n){return-1!==t.indexOf(n)},notContains:function(t,n){return-1===t.indexOf(n)},search:function(t,n,r){return String(n).split(/\s+/)[r?"every":"some"](function(n){return-1!==t.indexOf(n)})},fuzzySearch:function(t,n){var r=t.length,e=n.length;if(e>r)return!1;if(e===r)return t===n;t:for(var u=0,a=0;u<e;u++){for(var i=n.charCodeAt(u);a<r;)if(t.charCodeAt(a++)===i)continue t;return!1}return!0},test:function(t,n){return n.test(t)},lowercase:function(t){return t.toLowerCase()},uppercase:function(t){return t.toUpperCase()},slugify:function(t){return t.toLowerCase().replace(/[^\w\s]/g,"").replace(/[_\s]+/g,"-").replace(/-+/g,"-").replace(/^-/,"")},camelize:function(t){return t.trim().replace(/(\-|_|\s)+(.)?/g,function(t,n,r){return r?r.toUpperCase():""})},capitalize:function(t){return t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()},dasherize:function(t){return t.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase()},humanize:function(t){var n=t.replace(/([a-z\d])([A-Z+])/g,"$1_$2").replace(/[-\s]+/g,"_").replace(/_+/g," ").trim();return n.substr(0,1).toUpperCase()+n.substr(1).toLowerCase()},underscore:function(t){return t.trim().replace(/([a-z\d])([A-Z]+)/g,"$1_$1").replace(/[-\s]+/g,"_").toLowerCase()},titlecase:function(t){return t.toLowerCase().replace(/(?:^|\s)\S/g,function(t){return t.toUpperCase()})},camelcase:function(t){return t.toLowerCase().replace(/\s+(\S)/g,function(t,n){return n.toUpperCase()})},substr:function(t,n,r){return t.substr(n,r)},substring:function(t,n,r){return t.substring(n,r)},replace:function(t,n,r){return"string"==typeof n&&(n=new RegExp(dmx.escapeRegExp(n),"g")),t.replace(n,r)},trim:function(t){return t.trim()},trimLeft:function(t){return t.replace(/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/,"")},trimRight:function(t){return t.replace(/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/,"")},concat:function(t,n){return t.concat(n)},trunc:function(t,n,r,e){return r=!!r,e=e||"â€¦",t.length>n&&(t=t.substr(0,n),r&&-1!==t.indexOf(" ")&&(t=t.substr(0,t.lastIndexOf(" "))),t+=e),t},stripTags:function(t){return t.replace(/<[^>]+>/g,"")},padStart:function(t,n,r){if(r=r||" ",n<=t.length)return t;for(var e=n-t.length;r.length<e;)r+=r;return r.substr(0,e)+t},padEnd:function(t,n,r){if(r=r||" ",n<=t.length)return t;for(var e=n-t.length;r.length<e;)r+=r;return t+r.substr(0,e)},repeat:function(t,n){for(var r="",e=0;e<n;e++)r+=t;return r},wordCount:function(t){return t.trim().split(/\s+/).length},split:function(t,n){return t.split(n)},default:function(t){return t},toNumber:function(t){return Number(t)},toDate:function(n){var r=t(n);return"Invalid Date"==r.toString()?null:r.toISOString()},addYears:function(n,r){var e=t(n);return e.setFullYear(e.getFullYear()+r),"Invalid"==e.toString()?null:e.toISOString()},addMonths:function(n,r){var e=t(n);return e.setMonth(e.getMonth()+r),"Invalid"==e.toString()?null:e.toISOString()},addWeeks:function(n,r){var e=t(n);return e.setDate(e.getDate()+7*r),"Invalid"==e.toString()?null:e.toISOString()},addDays:function(n,r){var e=t(n);return e.setDate(e.getDate()+r),"Invalid"==e.toString()?null:e.toISOString()},addHours:function(n,r){var e=t(n);return e.setHours(e.getHours()+r),"Invalid"==e.toString()?null:e.toISOString()},addMinutes:function(n,r){var e=t(n);return e.setMinutes(e.getMinutes()+r),"Invalid"==e.toString()?null:e.toISOString()},addSeconds:function(n,r){var e=t(n);return e.setSeconds(e.getSeconds()+r),"Invalid"==e.toString()?null:e.toISOString()},yearsUntil:function(n,r){var e=t(n);return t(r).getFullYear()-e.getFullYear()},monthsUntil:function(n,r){var e=t(n),u=t(r);return 12*u.getFullYear()+u.getMonth()-(12*e.getFullYear()+e.getMonth())},weeksUntil:function(n,r){var e=t(n),u=t(r);return Math.floor((u-e)/6048e5)},daysUntil:function(r,e){var u=n(t(r)),a=n(t(e));return Math.round((a-u)/864e5)},hoursUntil:function(n,r){var e=t(n),u=t(r);return Math.floor((u-e)/36e5)},minutesUntil:function(n,r){var e=t(n),u=t(r);return Math.floor((u-e)/6e4)},secondsUntil:function(n,r){var e=t(n),u=t(r);return Math.floor((u-e)/1e3)},timeUntil:function(n,r,e){var u=function(t){return(t<10?"0":"")+t},a=t(n),i=t(r),o=Math.floor((i-a)/1e3),c=Math.floor(o/60),s=Math.floor(c/60);return o-=60*c,e?(c-=60*s,u(s)+":"+u(c)+":"+u(o)):u(c)+":"+u(o)},toISODate:function(n){var r=t(n);if("Invalid Date"==r.toString())return null;var e=function(t){return("00"+t).substr(-2)};return function(t){return("0000"+t).substr(-4)}(r.getFullYear())+"-"+e(r.getMonth())+"-"+e(r.getDate())},toISOTime:function(n){var r=t(n);if("Invalid Date"==r.toString())return null;var e=function(t){return("00"+t).substr(-2)};return e(r.getHours())+":"+e(r.getMinutes())+":"+e(r.getSeconds())},formatDate:function(n,r){var e=t(n);if("Invalid Date"==e.toString())return null;var u=function(t){return("00"+t).substr(-2)},a=function(t){return("0000"+t).substr(-4)},i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=e.getFullYear(),l=e.getMonth(),d=e.getDate(),g=e.getDay(),m=e.getHours(),h=e.getMinutes(),p=e.getSeconds();return r.replace(/[yMdHhmsaA]+/g,function(t){switch(t){case"yyyy":return a(f);case"yy":return u(f);case"y":return f;case"MMMM":return i[l];case"MMM":return o[l];case"MM":return u(l+1);case"M":return l+1;case"dddd":return c[g];case"ddd":return s[g];case"dd":return u(d);case"d":return d;case"HH":return u(m);case"H":return m;case"hh":return u(m%12||12);case"h":return m%12||12;case"mm":return u(h);case"m":return h;case"ss":return u(p);case"s":return p;case"a":return m<12?"am":"pm";case"A":return m<12?"AM":"PM"}return t})},toTimestamp:function(n){var r=t(n);return"Invalid Date"==r.toString()?null:Math.floor(r.getTime()/1e3)}})}(),dmx.Formatters("object",{keys:function(t){return Object.keys(t)},values:function(t){return Object.keys(t).map(function(n){return t[n]})},hasKey:function(t,n){return-1!==Object.keys(t).indexOf(n)},hasValue:function(t,n){return-1!==Object.keys(t).map(function(n){return t[n]}).indexOf(n)},default:function(t){return t}}),dmx.Formatters("boolean",{default:function(t){return t},toString:function(t){return String(t)},toNumber:function(t){return Number(t)},then:function(t,n,r){return t?n:r}}),dmx.Formatters("undefined",{default:function(t,n){return n}}),dmx.Formatters("null",{default:function(t,n){return n}});
//# sourceMappingURL=../maps/dmxFormatter.js.map
