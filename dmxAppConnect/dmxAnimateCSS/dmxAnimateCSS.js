/*!
 DMXzone Animate CSS
 Version: 1.0.0
 (c) 2017 DMXzone.com
 @build 2017-03-21 14:09:34
 */
dmx.animate=function(e,t,i,n){dmx.animate.removeAllEffects(e),requestAnimationFrame(function(){dmx.animate.removeAllEffects(e),n&&e.style.setProperty("animation-delay",n+"ms"),i&&e.style.setProperty("animation-duration",i+"ms"),e.classList.add("animated",t)})},dmx.animate.removeAllEffects=function(e){e.style.removeProperty("animation-delay"),e.style.removeProperty("animation-duration"),e.classList.remove("animated"),dmx.array(e.classList).forEach(function(t){dmx.animate.effects.indexOf(t)>=0&&e.classList.remove(t)},this)},dmx.animate.effects=["bounce","flash","pulse","rubberBand","shake","headShake","swing","tada","wobble","jello","bounceIn","bounceInDown","bounceInLeft","bounceInRight","bounceInUp","bounceOut","bounceOutDown","bounceOutLeft","bounceOutRight","bounceOutUp","fadeIn","fadeInDown","fadeInDownBig","fadeInLeft","fadeInLeftBig","fadeInRight","fadeInRightBig","fadeInUp","fadeInUpBig","fadeOut","fadeOutDown","fadeOutDownBig","fadeOutLeft","fadeOutLeftBig","fadeOutRight","fadeOutRightBig","fadeOutUp","fadeOutUpBig","flipInX","flipInY","flipOutX","flipOutY","lightSpeedIn","lightSpeedOut","rotateIn","rotateInDownLeft","rotateInDownRight","rotateInUpLeft","rotateInUpRight","rotateOut","rotateOutDownLeft","rotateOutDownRight","rotateOutUpLeft","rotateOutUpRight","hinge","rollIn","rollOut","zoomIn","zoomInDown","zoomInLeft","zoomInRight","zoomInUp","zoomOut","zoomOutDown","zoomOutLeft","zoomOutRight","zoomOutUp","slideInDown","slideInLeft","slideInRight","slideInUp","slideOutDown","slideOutLeft","slideOutRight","slideOutUp"],dmx.animate.nodes=[],dmx.animate.watch=function(e){dmx.animate.nodes.indexOf(e)===-1&&dmx.animate.nodes.push(e)},dmx.animate.update=function(){if(dmx.animate.nodes.length){var e={x:window.pageXOffset,y:window.pageYOffset,w:window.innerWidth,h:window.innerHeight};dmx.animate.nodes=dmx.animate.nodes.filter(function(t){if(!t.offsetParent)return!0;for(var i=t.offsetParent,n=t.offsetLeft,a=t.offsetTop,o=t.offsetWidth,s=t.offsetHeight,r=o*t.animateRatio,d=s*t.animateRatio;i;)isNaN(i.offsetLeft)||(n+=i.offsetLeft),isNaN(i.offsetTop)||(a+=i.offsetTop),i=i.offsetParent;if(a+d<=e.y+e.h&&a+s-d>=e.y&&n+r<=e.x+e.w&&n+o-r>=e.x){if(!t.animateVisible&&(t.style.removeProperty("visibility"),t.animateOutview&&t.classList.remove(t.animateOutview,"animated"),t.classList.add(t.animateInview,"animated"),t.animateVisible=!0,!t.animateOutview))return!1}else t.animateOutview&&t.animateVisible!==!1&&(t.classList.remove(t.animateInview,"animated"),t.classList.add(t.animateOutview,"animated"),t.animateVisible=!1);return!0})}},dmx.animate.handler=function(){var e;return function(t){e||(e=setTimeout(function(){requestAnimationFrame(dmx.animate.update),e=null},250))}}(),["load","resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,dmx.animate.handler)}),dmx.Component("animate",{initialData:{visible:!1,animating:!1},tag:"div",attributes:{showEffect:{type:String,default:""},hideEffect:{type:String,default:""},showDuration:{type:Number,default:null},hideDuration:{type:Number,default:null},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:0},visible:{type:Boolean,default:!1}},methods:{animate:function(e,t){this.props.visible&&dmx.animate(this.$node,e,t)}},render:function(e){dmx.BaseComponent.prototype.render.call(this,e),this.props.visible||(this.props.hideEffect?dmx.animate(this.$node,this.props.hideEffect,1):this.$node.style.setProperty("visibility","hidden"))},update:function(e){this.props.visible!=e.visible&&(this.props.visible?(this.props.showEffect&&dmx.animate(this.$node,this.props.showEffect,this.props.showDuration,this.props.showDelay),this.$node.style.removeProperty("visibility")):this.props.hideEffect?dmx.animate(this.$node,this.props.hideEffect,this.props.hideDuration,this.props.hideDelay):this.$node.style.setProperty("visibility","hidden"),this.set("visible",this.props.visible))}}),dmx.Attribute("animate-inview","mounted",function(e,t){e.animateInview=t.value,e.animateRatio=(parseInt(t.argument,10)||100)/100,e.style.setProperty("visibility","hidden"),dmx.animate.watch(e)}),dmx.Attribute("animate-outview","mounted",function(e,t){e.animateOutview=t.value}),dmx.Attribute("animate-enter","mounted",function(e,t){e.addEventListener("animationend",function(){dmx.animate.removeAllEffects(e)}),dmx.animate(e,t.value,t.modifiers.duration,(t.modifiers.random?10*Math.random():this.data.$index)*t.modifiers.delay)}),dmx.Attribute("animate-leave","mounted",function(e,t){var i=this;e.addEventListener("remove",function(n){n.preventDefault();var a={left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight};requestAnimationFrame(function(){e.style.setProperty("position","absolute"),e.style.setProperty("left",a.left+"px"),e.style.setProperty("top",a.top+"px"),e.style.setProperty("width",a.width+"px"),e.style.setProperty("height",a.height+"px"),e.offsetParent.appendChild(e),e.addEventListener("animationend",function(){dmx.dom.remove(e)}),dmx.animate(e,t.value,t.modifiers.duration,(t.modifiers.random?10*Math.random():i.data.$index)*t.modifiers.delay)})})}),dmx.Attribute("animate-move","mounted",function(e,t){if("repeat-item"!==this.type)return void console.warn("Cannot use animate-move on a component that is not a repeat item");if(!this.parent.props.key)return void console.warn("Cannot use animate-move on non keyed repeat");var i=this,n=this.parent,a=["linear","ease-in","ease-out","ease-in-out"].filter(function(e){return!!t.modifiers[e]}),o=function(t){e.pos=e.getBoundingClientRect()},s=function(n){e.pos&&(e.style.removeProperty("transform"),e.style.removeProperty("transition"),requestAnimationFrame(function(){var n=e.getBoundingClientRect();e.style.setProperty("transform","translate("+(e.pos.left-n.left)+"px,"+(e.pos.top-n.top)+"px)"),requestAnimationFrame(function(){e.style.setProperty("transition-property","all"),t.modifiers.delay?e.style.setProperty("transition-delay",(t.modifiers.random?10*Math.random():i.data.$index)*t.modifiers.delay+"ms"):e.style.removeProperty("transition-delay"),e.style.setProperty("transition-duration",(t.modifiers.duration||800)+"ms"),e.style.setProperty("transition-timing-function",a[0]||"ease"),e.style.removeProperty("transform")})}))};n.addEventListener("update",o),n.addEventListener("updated",s),this.addEventListener("destroy",function(e){n.removeEventListener("update",o),n.removeEventListener("updated",s)})});
//# sourceMappingURL=../maps/dmxAnimateCSS.js.map
